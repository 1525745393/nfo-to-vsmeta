# nfo to vsmeta
通过 Emby/Jellyfin/TinyMediaManager 等刮削到的nfo元数据，转换成群晖 Video Station 专用 vsmeta 元数据。共享刮削数据
感谢原版大佬建议 更改代码自用版
使用方法
-----------------
1. 保存 transfer.py 到群晖任意目录
2. 修改 directory = r'/volume1/video/Links/' 为视频文件实际目录；建议配合NasTool使用硬链目录
3. 修改 poster = 'poster.jpg' 为刮削到的海报图文件名
4. 修改 fanart = 'fanart.jpg' 为刮削到的背景图文件名
5. 在群晖控制面板 > 任务计划，新增 > 计划的任务 > 用户定义的脚本
6. 计划名称、执行时间、执行频率按需设置
7. 自定义脚本栏输入命令（注意修改路径为实际保存 transfer.py 的路径）： python3 /volume1/xxx/transfer.py
8. 已转换过的不会重复转换，需要重置，可以手动删除 *.vsmeta 文件后再运行脚本；也可以放开 19 20 两行注释，会自动删除所有 vsmeta ，并重新转换。重置后，需手动点 设置 > 视频库 > 再次搜索所有视频信息 刷新元数据缓存

使用效果
-----------------
![image](https://github.com/JuanWoo/nfo-to-vsmeta/assets/4869539/5c089d2c-8064-4c94-bf42-c6e3117e2492)

---

更新日志（CHANGELOG）
v1.4 更新内容：
1. 新增 config.json 配置文件支持，常用参数可直接从配置文件加载；
2. 运行时支持优先读取配置文件，再读取命令行参数；
3. 支持配置多个扫描路径、线程数、是否删除 .nfo、是否覆盖 .vsmeta；
4. 增强参数灵活性，使用更加方便；
5. 保持与 v1.3 所有功能兼容。

发布日期：2025-05-06


v1.3（当前版本）

发布日期： 2025-05-05

新增

--only-missing 参数：仅转换缺失 .vsmeta 的视频文件；

--overwrite-vsmeta 参数，默认不覆盖已有 .vsmeta；

支持多个 --root 参数，批量处理多个路径；

支持通过 --root-file 加载路径列表；

每次执行生成独立时间戳日志文件；

日志记录处理状态（成功 / 失败 / 跳过）；

日志记录失败原因；

日志末尾输出执行统计摘要（总数 / 成功 / 失败 / 耗时）；

支持 --log-dir 参数，指定日志保存目录；

默认递归扫描子目录，支持 --no-recursive 关闭递归。



---

v1.2

发布日期： 2025-05-04

新增

支持多任务批量路径；

支持 Web UI；

支持 Emby/Jellyfin 刷新 API 对接；

支持中英文界面；

多线程优化；

支持更多视频格式；

自动生成缺失 .nfo；

成功/失败日志输出；

目录结构标准化（docs/、scripts/、changelog/）；

打包包含 v1.0 与 v1.1 历史文档和脚本。



---

v1.1

发布日期： 2025-05-03

新增

优化 .nfo 解析兼容性；

支持跳过指定路径；

手动刷新 Emby/Jellyfin 元数据；

可视化增强脚本输出；

初步打包支持；

保留 v1.0 脚本与文档。



---

v1.0

发布日期： 2025-05-01

初始版本功能

将 .nfo 转换为 .vsmeta；

支持递归扫描目录；

自动识别影片名称与封面；

基础 CLI 参数支持；

支持群晖 Video Station 索引识别格式。



---

是否继续打包 v1.3？

