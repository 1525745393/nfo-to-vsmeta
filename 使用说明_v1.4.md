群晖 Video Station .nfo 转 .vsmeta 工具使用说明（v1.4）

版本号：v1.4 发布时间：2025-05-05

工具简介：

本工具用于将群晖 NAS 下 Video Station 使用的 .nfo 文件批量转换为 .vsmeta 文件，以便实现封面图与影片信息的自动同步显示。支持多路径扫描、任务并发、多格式视频识别、失败日志记录、API 刷新等增强功能。

v1.4 更新要点：

1. 新增配置文件支持（config.json）：支持将常用参数写入配置文件，运行更便捷。


2. 支持 --config 参数载入配置文件。


3. 支持多路径批量扫描（多个 --root 参数，或通过 --root-file 指定路径列表文件）。


4. 默认递归扫描目录结构，可通过 --no-recursive 禁用。


5. 可跳过特定目录名（如 @eaDir）。


6. 新增 --only-missing 参数：仅转换缺失的 .vsmeta 文件。


7. 新增 --overwrite-vsmeta 参数，默认不覆盖已存在的 .vsmeta。


8. 每次执行生成独立时间戳日志文件。


9. 日志增强：统计总数、成功数、失败数、失败原因，并输出摘要。



使用方式：

命令行基本格式：

python vsmeta_converter.py --root D:/Videos --skip-dirs @eaDir --only-missing --log-dir logs

使用配置文件运行：

python vsmeta_converter.py --config config.json

配置文件样例（config_sample.json）：

{
  "roots": ["D:/Videos", "E:/AV"],
  "skip_dirs": ["@eaDir", "backup"],
  "only_missing": true,
  "overwrite_vsmeta": false,
  "delete_nfo": false,
  "log_dir": "logs",
  "no_recursive": false
}

目录结构说明：

VideoStation_vsmeta_tool_v1.4/
├── docs/
│   ├── README.txt           # 中文说明文件
│   ├── changelog.txt        # 版本更新日志
├── scripts/
│   ├── vsmeta_converter.py  # 主程序脚本
│   ├── utils.py             # 工具函数模块
│   ├── config_sample.json   # 配置文件示例
├── versions/
│   ├── v1.0/                # 历史版本包
│   ├── v1.1/
│   ├── v1.2/

